# Users
$defaultPassword=12341234
$regulargroup=regulargroup
$customergroup=customergroup
$cmsmanagergroup=cmsmanagergroup
$contentCatalog=testCatalog
$contentCV=catalogVersion(CatalogVersion.catalog(Catalog.id[default=$contentCatalog]),CatalogVersion.version[default=Online])[default=$contentCatalog:Online]

INSERT_UPDATE OAuthClientDetails;clientId[unique=true]	;resourceIds	;scope		;authorizedGrantTypes											;authorities			;clientSecret	;registeredRedirectUri
								;mobile_android			;hybris			;basic		;authorization_code,refresh_token,password,client_credentials	;ROLE_CLIENT			;secret	;http://localhost:9001/authorizationserver/oauth2_callback;

INSERT_UPDATE CxSegment;code[unique=true];
;segment1;
;segment2;
;segment3;
;segment4;

# Create Customer Group
INSERT_UPDATE Usergroup;uid[unique=true];groups(uid)[mode=append];
;$regulargroup;customergroup;
;cmsmanagergroup;employeegroup;

INSERT_UPDATE Employee;UID[unique=true];password[default=$defaultPassword];description;name;groups(uid)[mode=append];sessionLanguage(isocode);sessionCurrency(isocode)
;cmsmanager;;CMS manager;CMS Manager;cmsmanagergroup;en;USD

INSERT_UPDATE Customer;uid[unique=true];groups(uid);password[default=$defaultPassword];name
;customer1@hybris.com;customergroup;;Miljenko Calhoun0 
;customer2@hybris.com;customergroup;;Miljenko Calhoun1
;customer3@hybris.com;customergroup;;Miljenko Calhoun2
;customer4@hybris.com;customergroup;;Miljenko Calhoun3

INSERT_UPDATE CxUserToSegment;user(uid)[unique=true];segment(code)[unique=true];affinity;
;customer1@hybris.com;segment1;1;
;customer2@hybris.com;segment1;1;
;customer3@hybris.com;segment1;1;
;customer1@hybris.com;segment2;1;
;customer2@hybris.com;segment2;1;
;customer1@hybris.com;segment3;1;
;customer3@hybris.com;segment3;1;
;customer4@hybris.com;segment3;1;
;customer1@hybris.com;segment4;1;
;customer2@hybris.com;segment4;1;
;customer3@hybris.com;segment4;1;
;customer4@hybris.com;segment4;1;

INSERT_UPDATE CxCustomizationsGroup;code;$contentCV[unique=true]
;default;

INSERT_UPDATE CxCustomization;code[unique=true];name;$contentCV[unique=true];group(code,$contentCV)[default='default']
;customization1;customization1;;
;customization2;customization2;;
;customization3;customization3;;
;customization4;customization4;;
;customization5;customization5;;

INSERT_UPDATE CxVariation;code[unique=true];name;$contentCV[unique=true];active[default=true];customization(code,$contentCV)[unique=true];rank;
;variation0;variation0;;;customization1;1;
;variation1;variation1;;;customization1;5;
;variation2;variation2;;;customization1;6;
;variation3;variation3;;;customization1;7;
;variation4;variation4;;;customization1;8;
;variation5;variation5;;;customization1;9;
;variation6;variation6;;;customization1;10;
;variation7;variation7;;;customization1;11;
;variation8;variation8;;;customization1;12;
;variation9;variation9;;;customization1;13;

#set rank
UPDATE CxCustomization;code[unique=true];name;$contentCV[unique=true];variations(code,$contentCV);
;customization1;customization1;;variation0,variation1,variation2,variation3,variation4,variation5,variation6,variation7,variation8,variation9;

INSERT_UPDATE CxSegmentTrigger;code[unique=true];$contentCV[unique=true];variation(code,$contentCV)[unique=true];segments(code);groupBy(code)[default='OR'];
;trigger0;;variation0;segment1;
;trigger1;;variation1;segment2;
;trigger2;;variation2;segment3;
;trigger3;;variation3;segment4;
;trigger4;;variation4;segment1;
;trigger5;;variation5;segment2;
;trigger6;;variation6;segment3;
;trigger7;;variation7;segment4;
;trigger8;;variation8;segment1;
;trigger9;;variation9;segment2;