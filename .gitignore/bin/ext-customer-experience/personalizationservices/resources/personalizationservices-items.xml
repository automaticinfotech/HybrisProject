<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 [y] hybris Platform

 Copyright (c) 2000-2016 SAP SE or an SAP affiliate company.
 All rights reserved.

 This software is the confidential and proprietary information of SAP
 ("Confidential Information"). You shall not disclose such Confidential
 Information and shall use it only in accordance with the terms of the
 license agreement you entered into with SAP.


-->

<!-- ATTENTION: This is just an example file. You have to edit it according to your needs. -->

<items xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="items.xsd">
	<enumtypes>
		<enumtype code="CxGroupingOperator" autocreate="true" generate="true" dynamic="false">
			<value code="AND"><description>Group by AND</description></value>
			<value code="OR"><description>Group by OR</description></value>			
		</enumtype>
	</enumtypes>
	
	<relations>

		<relation code="CxCustomizationToVariation" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="customization" type="CxCustomization" cardinality="one" >
				<modifiers read="true" write="true" search="true" optional="false" unique="true"/>
			</sourceElement>
			<targetElement qualifier="variations" type="CxVariation" cardinality="many" collectiontype="list" ordered="true">
			 	<modifiers read="true" write="true" search="true" optional="true" partof="true" />
			</targetElement>
		</relation>
		
		<relation code="CxGroupToCustomization" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="group" type="CxCustomizationsGroup" cardinality="one">
				<modifiers read="true" write="true" search="true" optional="false" />
			</sourceElement>
			<targetElement qualifier="customizations" type="CxCustomization" cardinality="many" collectiontype="list" ordered="true">
			 	<modifiers read="true" write="true" search="true" optional="true" partof="true"  />
			</targetElement>
		</relation>

		<relation code="CxVariationToAction" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="variation" type="CxVariation" cardinality="one" >
				<modifiers read="true" write="true" search="true" optional="true" unique="true"/>
			</sourceElement>
			<targetElement qualifier="actions" type="CxAbstractAction" cardinality="many">
				<modifiers read="true" write="true" search="true" optional="true" partof="true" />
			</targetElement>
		</relation>
		
		<relation code="CxTriggerToVariation" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="variation" type="CxVariation" cardinality="one">
				<modifiers read="true" write="true" search="true" optional="false" unique="true"/>
			</sourceElement>
			<targetElement qualifier="triggers" type="CxAbstractTrigger" cardinality="many" >
				<modifiers read="true" write="true" search="true" optional="true" partof="true" />
			</targetElement>
		</relation>
		
		<relation code="CxSegmentToTrigger" autocreate="true" generate="true" localized="false">
			<deployment table="CxSegmentToTrigger" typecode="3610" />
			<sourceElement qualifier="triggers" type="CxSegmentTrigger" cardinality="many">
				<modifiers read="true" write="true" search="true" optional="true" />
			</sourceElement>
			<targetElement qualifier="segments" type="CxSegment" cardinality="many">
				<modifiers read="true" write="true" search="true" optional="false" />
			</targetElement>
		</relation>

		<relation code="CxSegmentToUserRelation" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="segment" type="CxSegment" cardinality="one">
				<modifiers read="true" write="true" search="true" optional="false" />
			</sourceElement>
			<targetElement qualifier="userToSegments" type="CxUserToSegment" cardinality="many">
				<modifiers read="true" write="true" search="true" optional="true" partof="true"/>
			</targetElement>
		</relation>

		<relation code="CxUserToSegmentRelation" autocreate="true" generate="true" localized="false">
			<sourceElement qualifier="user" type="User" cardinality="one">
				<modifiers read="true" write="true" search="true" optional="false" />
			</sourceElement>
			<targetElement qualifier="userToSegments" type="CxUserToSegment" cardinality="many">
				<modifiers read="true" write="true" search="true" optional="true" partof="true" />
			</targetElement>
		</relation>
		
	</relations>


	<itemtypes>	
		<itemtype generate="true" code="CxVariation" jaloclass="de.hybris.platform.personalizationservices.jalo.CxVariation" extends="GenericItem" autocreate="true">
			<deployment table="CxVariation" typecode="3601" />
			<custom-properties>
				<property name="catalogItemType">
					<value>java.lang.Boolean.TRUE</value>
				</property>
				<property name="catalogVersionAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
				<property name="uniqueKeyAttributeQualifier">
					<value>"code,customization"</value>
				</property>
			</custom-properties>
			<attributes>
				<attribute qualifier="code" type="java.lang.String">
					<description>Unique identifier</description>
                    <modifiers read="true" write="false" optional="false" initial="true" unique="true"/>
					<persistence type="property" />
				</attribute>
				<attribute qualifier="catalogVersion" type="CatalogVersion">
				   	<modifiers optional="false" unique="true"/>
   					<persistence type="property"/>
				</attribute>
				<attribute type="java.lang.String" qualifier="name">
					<description>Name of variation</description>
					<persistence type="property" />
					<modifiers optional="false"/>
				</attribute>
				<attribute qualifier="active" type="boolean">
					<description>Defines if the variation is active or not</description>
					<persistence type="dynamic" attributeHandler="cxVariationActiveAttributeHandler"/>
					<modifiers write="false" read="true" />
				</attribute>
				<attribute qualifier="enabled" type="boolean">
					<description>Defines if the variation is enabled or not</description>
					<persistence type="property" />				
					<modifiers optional="false" />
					<defaultvalue>Boolean.FALSE</defaultvalue>
				</attribute>
				<attribute qualifier="rank" type="java.lang.Integer">
					<description>Defines the rank (priority) of variation</description>
					<persistence type="dynamic" attributeHandler="cxVariationRankAttributeHandler" /> 
					<modifiers optional="true" />
				</attribute>
			</attributes>
			<indexes>
				<index name="codeCustomizationCatalogVersionIdx" unique="true">
					<key attribute="code" />
					<key attribute="customization" />
					<key attribute="catalogVersion" />
				</index>
				<index name="nameCustomizationCatalogVersionIdx" >
					<key attribute="name" />
					<key attribute="customization" />
					<key attribute="catalogVersion" />
				</index>
				<index name="customizationCatalogVersionIdx">
					<key attribute="customization" />
					<key attribute="catalogVersion" />
				</index>
			</indexes>
		</itemtype>

		<itemtype generate="true" code="CxCustomization" jaloclass="de.hybris.platform.personalizationservices.jalo.CxCustomization" extends="GenericItem" autocreate="true">
			<deployment table="CxCustomization" typecode="3602" />
			<custom-properties>
				<property name="catalogItemType">
					<value>java.lang.Boolean.TRUE</value>
				</property>
				<property name="catalogVersionAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
				<property name="uniqueKeyAttributeQualifier">
					<value>"code"</value>
				</property>
			</custom-properties>
			<attributes>
				<attribute qualifier="code" type="java.lang.String">
					<description>Unique identifier</description>
                    <modifiers read="true" write="false" optional="false" initial="true" unique="true"/>
					<persistence type="property" />
				</attribute>
				<attribute qualifier="catalogVersion" type="CatalogVersion">
				   	<modifiers optional="false" unique="true"/>
   					<persistence type="property"/>
				</attribute>
				<attribute type="java.lang.String" qualifier="name">
					<description>Name of customization</description>
					<persistence type="property"  />
					<modifiers optional="false" />
				</attribute>
				<attribute qualifier="rank" type="java.lang.Integer">
					<description>Defines the rank (priority) of the group</description>
					<persistence type="dynamic" attributeHandler="cxCustomizationRankAttributeHandler" /> 
					<modifiers optional="true" />
				</attribute>
				<attribute type="java.lang.String" qualifier="description">
					<description>Description of customization</description>
					<persistence type="property" />
					<modifiers optional="true" />
				</attribute>
				<attribute qualifier="active" type="boolean">
					<description>Defines if the variation is active or not</description>
					<persistence type="dynamic" attributeHandler="cxCustomizationActiveAttributeHandler"/>
					<modifiers write="false" read="true" />
				</attribute>
				<attribute type="java.util.Date" qualifier="enabledStartDate">
					<description>Date and time from which customization will be active</description>
					<persistence type="property" />
					<modifiers optional="true" />					
				</attribute>
				<attribute type="java.util.Date" qualifier="enabledEndDate">
					<description>Date and time till which customization will be active</description>
					<persistence type="property" />
					<modifiers optional="true" />					
				</attribute>
			</attributes>

			<indexes>
				<index name="codeCatalogVersionIdx" unique="true">
					<key attribute="code" />
					<key attribute="catalogVersion" />
				</index>
				<index name="nameCatalogVersionIdx">
					<key attribute="name" />
					<key attribute="catalogVersion" />
				</index>
				<index name="catalogVersionIdx">
					<key attribute="catalogVersion" />
				</index>
			</indexes>
		</itemtype>
		
		<itemtype generate="true" code="CxSegment" jaloclass="de.hybris.platform.personalizationservices.jalo.CxSegment"  autocreate="true">
			<deployment table="CxSegment" typecode="3603" />
			<attributes>
				<attribute qualifier="code" type="java.lang.String">
					<description>Unique code of the segment</description>
                    <modifiers read="true" write="false" optional="false" initial="true" unique="true"/>
					<persistence type="property" />
				</attribute>
			</attributes>

			<indexes>
				<index name="codeIdx" unique="true">
					<key attribute="code" />
				</index>
			</indexes>
		</itemtype>

		<itemtype generate="true" code="CxAbstractAction" jaloclass="de.hybris.platform.personalizationservices.jalo.CxAbstractAction"
			 autocreate="true" abstract="true"	extends="AbstractAction">
			<deployment table="CxAbstractAction" typecode="3604" />
			<custom-properties>
				<property name="catalogItemType">
					<value>java.lang.Boolean.TRUE</value>
				</property>
				<property name="catalogVersionAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
				<property name="uniqueKeyAttributeQualifier">
					<value>"code,variation"</value>
				</property>
			</custom-properties>
			<attributes>
				<attribute qualifier="catalogVersion" type="CatalogVersion">
				   	<modifiers optional="false" unique="true"/>
   					<persistence type="property"/>
				</attribute>
				<attribute type="java.lang.String" qualifier="affectedObjectKey">
					<persistence type="dynamic" attributeHandler="cxAbstractActionAffectedObjectKeyAttributeHandler" />
					<modifiers write="false" />
				</attribute>
			</attributes>

			<indexes>
				<index name="codeVariationCatalogVersionIdx" unique="true">
					<key attribute="code"	 />
					<key attribute="variation" />
					<key attribute="catalogVersion" />
				</index>

				<index name="variationCatalogVersionIdx">
					<key attribute="variation" />
					<key attribute="catalogVersion" />
				</index>
			</indexes>

		</itemtype>

		<itemtype generate="true" code="CxUserToSegment" jaloclass="de.hybris.platform.personalizationservices.jalo.CxUserToSegment" autocreate="true">
			<deployment table="CxUserToSegment" typecode="3607" />
			<attributes>
				<attribute qualifier="affinity" type="java.math.BigDecimal">
					<description>The affinity of relation between user and segment. Range [0-1]</description>
					<modifiers optional="false" />
					<persistence type="property" />
				</attribute>
			</attributes>
		</itemtype>

		<itemtype generate="true" code="CxCustomizationsGroup" jaloclass="de.hybris.platform.personalizationservices.jalo.CxCustomizationsGroup" extends="GenericItem" autocreate="true">
			<deployment table="CxCustomizationsGroup" typecode="3608" />
			<custom-properties>
				<property name="catalogItemType">
					<value>java.lang.Boolean.TRUE</value>
				</property>
				<property name="catalogVersionAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
				<property name="uniqueKeyAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
			</custom-properties>
			<attributes>
				<attribute qualifier="code" type="java.lang.String">
					<description>Group code</description>
                    <modifiers read="true" write="false" optional="false" initial="true" unique="false" />
					<persistence type="property" />
				</attribute>
				<attribute qualifier="catalogVersion" type="CatalogVersion">
				   	<modifiers optional="false" unique="true"/>
   					<persistence type="property"/>
				</attribute>
			</attributes>
			<indexes>
				<index name="catalogVersionIdx" unique="true">
					<key attribute="catalogVersion" />
				</index>
			</indexes>
		</itemtype>

		<itemtype generate="true" code="CxAbstractTrigger" jaloclass="de.hybris.platform.personalizationservices.jalo.CxAbstractTrigger" extends="GenericItem" autocreate="true" abstract="true">
			<deployment table="CxAbstractTrigger" typecode="3609" />
			<custom-properties>
				<property name="catalogItemType">
					<value>java.lang.Boolean.TRUE</value>
				</property>
				<property name="catalogVersionAttributeQualifier">
					<value>"catalogVersion"</value>
				</property>
				<property name="uniqueKeyAttributeQualifier">
					<value>"code,variation"</value>
				</property>
			</custom-properties>
			<attributes>
				<attribute qualifier="code" type="java.lang.String">
					<description>Unique identifier</description>
                    <modifiers read="true" write="false" optional="false" initial="true" unique="true"/>
					<persistence type="property" />
				</attribute>
				<attribute qualifier="catalogVersion" type="CatalogVersion">
				   	<modifiers optional="false" unique="true"/>
   					<persistence type="property"/>
				</attribute>
			</attributes>
			<indexes>
				<index name="codeVariationCatalogVersionIdx" unique="true">
					<key attribute="code" />
					<key attribute="variation" />
					<key attribute="catalogVersion" />
				</index>
				<index name="variationCatalogVersionIdx">
					<key attribute="variation" />
					<key attribute="catalogVersion" />
				</index>
			</indexes>
		</itemtype>

		<itemtype generate="true" code="CxSegmentTrigger" jaloclass="de.hybris.platform.personalizationservices.jalo.CxSegmentTrigger" extends="CxAbstractTrigger" autocreate="true" abstract="false" >
			<attributes>
				<attribute qualifier="groupBy" type="CxGroupingOperator" >
					<description>How segments are grouped</description>
                    <modifiers read="true" write="true" optional="false" initial="true" unique="false" />
					<persistence type="property" />
				</attribute>
			</attributes>
		</itemtype>

	</itemtypes>
</items>
